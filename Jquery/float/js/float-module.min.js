(function(t,e){"use strict";var n=function(i){function s(){if("object"==typeof O.btn_config&&null!=O.btn_config){for(var t=O.btn_config,n='<li class="fm-li-main"><div class="fm-li-content"><div class="fm-content"><span><i class="'+t[0].icon+'"></i></span></div></div></li>',i='<ul class="fm-ul-component">',s=1;s<t.length;s++)i+='<li class="fm-li"><div class="fm-li-content">',void 0!==t[s].title&&(i+='<div class="fm-li-title"><span class="fm-li-title-text">'+t[s].title+"</span></div>"),i+='<div class="fm-content"><span><i class="'+t[s].icon+'"></i></span></div></div></li>';i+="</ul>";var o=e.createElement("ul");o.classList.add("fm-ul"),o.style.opacity=0,o.innerHTML=n+i,e.body.appendChild(o)}}function o(t){if(r(t),"fan-in"==O.animation){var e,n=1,s=1.4,o=1.25;"number"==typeof i.fan_ratio&&(1==O.num?n=O.fan_ratio:2==O.num?s=O.fan_ratio:3==O.num&&(o=O.fan_ratio)),e=[[{x:.71*n,y:.71*n}],[{x:.7*s,y:.2*s},{x:.2*s,y:.7*s}],[{x:1*o,y:0},{x:.71*o,y:.71*o},{x:0,y:1*o}]]}for(var a=0;a<O.num;a++)if("slide-in"==O.animation||"spring-in"==O.animation||"fan-in"==O.animation)-1!=t.indexOf("right")?(h[a].style.right=O.margin_screen_x,"fan-in"==O.animation&&P.style.setProperty("--fm-destination-nth-"+(a+1)+"-x",-w*e[O.num-1][a].x+"px")):(h[a].style.left=O.margin_screen_x,"fan-in"==O.animation&&P.style.setProperty("--fm-destination-nth-"+(a+1)+"-x",w*e[O.num-1][a].x+"px")),-1!=t.indexOf("bottom")?(h[a].style.bottom=O.margin_screen_y,"fan-in"==O.animation?P.style.setProperty("--fm-destination-nth-"+(a+1)+"-y",-w*e[O.num-1][a].y+"px"):P.style.setProperty("--fm-destination-nth-"+(a+1)+"-y",-w*(a+1)+"px")):(h[a].style.top=O.margin_screen_y,"fan-in"==O.animation?P.style.setProperty("--fm-destination-nth-"+(a+1)+"-y",w*e[O.num-1][a].y+"px"):P.style.setProperty("--fm-destination-nth-"+(a+1)+"-y",w*(a+1)+"px"));else if("zoom-in"==O.animation){var l=parseInt(O.margin_screen_y);-1!=t.indexOf("right")?h[a].style.right=O.margin_screen_x:h[a].style.left=O.margin_screen_x,-1!=t.indexOf("bottom")?h[a].style.bottom=l+w*(a+1)+"px":h[a].style.top=l+w*(a+1)+"px"}}function r(t){-1!=t.indexOf("right")?_.style.right=O.margin_screen_x:_.style.left=O.margin_screen_x,-1!=t.indexOf("bottom")?_.style.bottom=O.margin_screen_y:_.style.top=O.margin_screen_y;for(var n=e.getElementsByClassName("fm-li-title"),i=parseInt(O.width_height)+parseInt(O.margin_li)+14,s=0;s<n.length;s++)-1!=t.indexOf("right")?(n[s].style.right=i+"px",n[s].classList.add("fm-title-right")):(n[s].style.left=i+"px",n[s].classList.add("fm-title-left"))}function a(){var t=e.getElementsByClassName("fm-li-main")[0];t.addEventListener("mouseenter",m),t.addEventListener("mouseleave",function(t){f(_)});for(var n=0;n<h.length;n++)h[n].addEventListener("mouseenter",m),h[n].addEventListener("mouseleave",f),void 0!==O.btn_config[n+1].click&&h[n].addEventListener("click",O.btn_config[n+1].click);1==O.draggable&&l(_)}function l(n){function i(i){i=i||t.event;0==i.button&&(u=i.clientX,g=i.clientY,e.addEventListener("mousemove",s),e.addEventListener("mouseup",o),void 0!==n.setCapture&&n.setCapture())}function s(e){e=e||t.event;var i=O.position;x=parseInt(O.margin_screen_x),v=parseInt(O.margin_screen_y);var s=e.clientX-u,o=e.clientY-g;-1!=i.indexOf("right")?(x-=s,n.style.right=x+"px"):(x+=s,n.style.left=x+"px"),-1!=i.indexOf("bottom")?(v-=o,n.style.bottom=v+"px"):(v+=o,n.style.top=v+"px");for(var r=0;r<O.num;r++)"zoom-in"==O.animation?(-1!=i.indexOf("right")?h[r].style.right=x+"px":h[r].style.left=x+"px",-1!=i.indexOf("bottom")?h[r].style.bottom=v+w*(r+1)+"px":h[r].style.top=v+w*(r+1)+"px"):(-1!=i.indexOf("right")?h[r].style.right=x+"px":h[r].style.left=x+"px",-1!=i.indexOf("bottom")?h[r].style.bottom=v+"px":h[r].style.top=v+"px")}function o(){e.removeEventListener("mousemove",s),e.removeEventListener("mouseup",o),O.margin_screen_x=x+"px",O.margin_screen_y=v+"px",void 0!==n.releaseCapture&&n.releaseCapture()}n.addEventListener("mousedown",i)}function m(){_.setAttribute("data-fm-state","open")}function f(){_.setAttribute("data-fm-state","close")}function c(t){var e=t.toLowerCase(),n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e&&n.test(e)){if(4===e.length){for(var i="#",s=1;s<4;s+=1)i+=e.slice(s,s+1).concat(e.slice(s,s+1));e=i}var o=[];for(s=1;s<7;s+=2){var r=parseInt("0x"+e.slice(s,s+2))-30;o.push(r<0?0:r)}return"rgb("+o.join(",")+")"}return e}function y(){var t=!0;return i instanceof Object?((null==i.btn_config||"object"!=typeof i.btn_config||i.btn_config.length>5)&&(console.log("shit, more than 5"),t=!1),O=d({},E,i),O.num=O.btn_config.length-1,O.num>3&&"fan-in"==O.animation&&(O.animation="slide-in")):t=!1,t}function p(){var t="",n=e.getElementsByTagName("script");if(n.length>0)for(var s=0;s<n.length;s++)if(-1!=n[s].src.indexOf("/js/float-module.min.js")){t=n[s].src.substring(0,n[s].src.indexOf("/js/float-module.min.js"));break}if(""!=t){var o=e.createElement("link");if(o.href=t+"/css/float-module.min.css",o.rel="stylesheet",o.type="text/css",e.head.appendChild(o),"object"==typeof i.icon_css_path&&null==i.icon_css_path)return;o=e.createElement("link"),""==O.icon_css_path?o.href=t+"/fontawesome/css/font-awesome.min.css":o.href=O.icon_css_path,o.rel="stylesheet",o.type="text/css",e.head.appendChild(o)}}function d(){var t=arguments.length,e=arguments[0]||{};"object"!=typeof e&&"function"!=typeof e&&(e={}),1==t&&(e=this,n--);for(var n=1;n<t;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}if(!(this instanceof n))return new n(i);var _,h,u,g,x,v,b=this,E={radius:"50%",theme_color:"#56b4f8",theme_content_color:"#fff",font_size:"18px",width_height:"60px",margin_screen_x:"30px",margin_screen_y:"30px",margin_li:"10px",animation:"slide-in",position:"right-bottom",icon_css_path:"",fan_ratio:1,z_index:996,draggable:!0,btn_config:[{}]},O=E,P=e.querySelector(":root"),w=parseInt(O.margin_li)+parseInt(O.width_height);return b._init=function(){p(),y()&&(P.style.setProperty("--fm-margin-li",O.margin_li),P.style.setProperty("--fm-width-height",O.width_height),P.style.setProperty("--fm-theme-color",O.theme_color),P.style.setProperty("--fm-theme-color-hover",c(O.theme_color)),P.style.setProperty("--fm-theme-content-color",O.theme_content_color),P.style.setProperty("--fm-font-size",O.font_size),P.style.setProperty("--fm-border-radius",O.radius),P.style.setProperty("--fm-margin-screen-x",O.margin_screen_x),P.style.setProperty("--fm-margin-screen-y",O.margin_screen_y),P.style.setProperty("--fm-z-index",O.z_index),s(),_=e.getElementsByClassName("fm-ul")[0],h=e.getElementsByClassName("fm-ul-component")[0].children,_.classList.add("fm-"+O.animation),o(O.position),a(),setTimeout(function(){_.style.opacity=1},251))},b._show=function(){_.style.visibility="visible",_.style.opacity=1},b._hide=function(){_.style.opacity=0,setTimeout(function(){_.style.visibility="hidden"},1e3)},b._init(),{show:b._show,hide:b._hide}};t.FloatModule=n})(window,document);